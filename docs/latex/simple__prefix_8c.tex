\hypertarget{simple__prefix_8c}{\section{/\-Users/sidharthamani/\-Crumbler/src/simple\-\_\-prefix.c File Reference}
\label{simple__prefix_8c}\index{/\-Users/sidharthamani/\-Crumbler/src/simple\-\_\-prefix.\-c@{/\-Users/sidharthamani/\-Crumbler/src/simple\-\_\-prefix.\-c}}
}


The interface to \hyperlink{structsimple__prefix}{simple\-\_\-prefix} implementation This file contains functions required to interface with other functions for encoding and decoding files\par
 Author \-: Sidhartha Mani\par
 Contact \-: \href{mailto:sidharthamn@gmail.com}{\tt sidharthamn@gmail.\-com} \par
 Last Updated \-: 24 Dec 2012 \par
  


{\ttfamily \#include \char`\"{}simple\-\_\-prefix.\-h\char`\"{}}\\*
Include dependency graph for simple\-\_\-prefix.\-c\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=257pt]{simple__prefix_8c__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
F\-I\-L\-E $\ast$ \hyperlink{simple__prefix_8c_aa71732b02f99cbdbee35eb443ec58501}{x\-\_\-encode\-\_\-file} (char $\ast$input\-\_\-file\-\_\-name, char $\ast$output\-\_\-file\-\_\-name)
\begin{DoxyCompactList}\small\item\em take in a file for encoding, encode it and then return the file descriptor of the file containing the encoded data \par
 {\bfseries Precondition\-:} The input file should only have characters defined in the macro L\-O\-W\-E\-R\-\_\-\-C\-A\-S\-E\-\_\-\-A\-L\-P\-H\-A\-B\-E\-T\-S \par
 {\bfseries Postcondition\-:}The output file containing the binary data(each bit stored into one character -\/ just for now) representing the \hyperlink{structsimple__prefix}{simple\-\_\-prefix} encoded data will be returned to the calling environment \par
 \end{DoxyCompactList}\item 
F\-I\-L\-E $\ast$ \hyperlink{simple__prefix_8c_a3d40a628ebc584a050b175aef67457b7}{x\-\_\-decode\-\_\-file} (char $\ast$input\-\_\-file\-\_\-name, char $\ast$output\-\_\-file\-\_\-name)
\begin{DoxyCompactList}\small\item\em take in an encoded file for decoding, decode it and then return the file descriptor of the file containing the decoded data \par
 {\bfseries Precondition\-:} The input file should only have characters(one bit in one character) that are encoded values generated by this simle\-\_\-prefix algorithm. Any other data and the result will be undefined \par
 {\bfseries Postcondition\-:}The output file containing the decoded data will be returned \par
 \end{DoxyCompactList}\item 
\hyperlink{structsimple__prefix}{simple\-\_\-prefix} $\ast$ \hyperlink{simple__prefix_8c_a9bd5b14908a928a995ad497e7d037394}{init} ()
\begin{DoxyCompactList}\small\item\em it allocates memory for the \hyperlink{structsimple__prefix}{simple\-\_\-prefix} structure and initializes the functors\par
 {\bfseries Precondition\-:} The structure receiving the allocated memory shouold not have already been allocated memory \par
 {\bfseries Postcondition\-:}Memory is allocated and functors are initialized and a pointer to the allocated memory is returned to the calling environment \par
 \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
The interface to \hyperlink{structsimple__prefix}{simple\-\_\-prefix} implementation This file contains functions required to interface with other functions for encoding and decoding files\par
 Author \-: Sidhartha Mani\par
 Contact \-: \href{mailto:sidharthamn@gmail.com}{\tt sidharthamn@gmail.\-com} \par
 Last Updated \-: 24 Dec 2012 \par
 

Definition in file \hyperlink{}{simple\-\_\-prefix.\-c}.



\subsection{Function Documentation}
\hypertarget{simple__prefix_8c_a9bd5b14908a928a995ad497e7d037394}{\index{simple\-\_\-prefix.\-c@{simple\-\_\-prefix.\-c}!init@{init}}
\index{init@{init}!simple_prefix.c@{simple\-\_\-prefix.\-c}}
\subsubsection[{init}]{\setlength{\rightskip}{0pt plus 5cm}{\bf simple\-\_\-prefix}$\ast$ init (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{simple__prefix_8c_a9bd5b14908a928a995ad497e7d037394}


it allocates memory for the \hyperlink{structsimple__prefix}{simple\-\_\-prefix} structure and initializes the functors\par
 {\bfseries Precondition\-:} The structure receiving the allocated memory shouold not have already been allocated memory \par
 {\bfseries Postcondition\-:}Memory is allocated and functors are initialized and a pointer to the allocated memory is returned to the calling environment \par
 

\begin{DoxyReturn}{Returns}
returns a pointer to freshly allocated memory 
\end{DoxyReturn}


Definition at line 77 of file simple\-\_\-prefix.\-c.


\begin{DoxyCode}
\{
    \textcolor{keyword}{struct }\hyperlink{structsimple__prefix}{simple\_prefix} *x\_simple\_prefix = (\textcolor{keyword}{struct }\hyperlink{structsimple__prefix}{simple\_prefix}
      *)malloc(\textcolor{keyword}{sizeof}(\hyperlink{structsimple__prefix}{simple\_prefix}));
    x\_simple\_prefix->\hyperlink{structsimple__prefix_a73d0a239981b130553964b3839c20bdf}{encode\_file} = \hyperlink{simple__prefix_8c_aa71732b02f99cbdbee35eb443ec58501}{x\_encode\_file};
    x\_simple\_prefix->\hyperlink{structsimple__prefix_a58708e15f01f3be37e12d3194e953b41}{decode\_file} = \hyperlink{simple__prefix_8c_a3d40a628ebc584a050b175aef67457b7}{x\_decode\_file};
    \textcolor{keywordflow}{return} x\_simple\_prefix;
\}\end{DoxyCode}
\hypertarget{simple__prefix_8c_a3d40a628ebc584a050b175aef67457b7}{\index{simple\-\_\-prefix.\-c@{simple\-\_\-prefix.\-c}!x\-\_\-decode\-\_\-file@{x\-\_\-decode\-\_\-file}}
\index{x\-\_\-decode\-\_\-file@{x\-\_\-decode\-\_\-file}!simple_prefix.c@{simple\-\_\-prefix.\-c}}
\subsubsection[{x\-\_\-decode\-\_\-file}]{\setlength{\rightskip}{0pt plus 5cm}F\-I\-L\-E $\ast$ x\-\_\-decode\-\_\-file (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{input\-\_\-file\-\_\-name, }
\item[{char $\ast$}]{output\-\_\-file\-\_\-name}
\end{DoxyParamCaption}
)}}\label{simple__prefix_8c_a3d40a628ebc584a050b175aef67457b7}


take in an encoded file for decoding, decode it and then return the file descriptor of the file containing the decoded data \par
 {\bfseries Precondition\-:} The input file should only have characters(one bit in one character) that are encoded values generated by this simle\-\_\-prefix algorithm. Any other data and the result will be undefined \par
 {\bfseries Postcondition\-:}The output file containing the decoded data will be returned \par
 


\begin{DoxyParams}{Parameters}
{\em input\-\_\-file\-\_\-name} & The relative path from the executable directory/the absolute path of the file to be decoded \\
\hline
{\em output\-\_\-file\-\_\-name} & The relative path from the executable directory/the absolute path of the file in which the decoded value will be persisted \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The file descriptor of the decoded file(output file) 
\end{DoxyReturn}


Definition at line 51 of file simple\-\_\-prefix.\-c.


\begin{DoxyCode}
\{
    FILE* input\_file = fopen(input\_file\_name,\textcolor{stringliteral}{"r"});
    FILE *output\_file;
    \textcolor{keywordtype}{char} *input\_string = (\textcolor{keywordtype}{char} *)malloc(1000);
    \textcolor{keywordtype}{char} *output\_string;
    \textcolor{keywordtype}{char} *input\_msgs = \hyperlink{simple__prefix__impl_8h_a94747a3d988297667d1f086be19a7f3d}{LOWER\_CASE\_ALPHABETS};
    \textcolor{keyword}{struct }\hyperlink{simple__prefix__impl_8h_structnode}{node} *root = \hyperlink{simple__prefix__impl_8h_af8da3d9dd76b4948b2233ed801729904}{init\_simple\_prefix}();
    root = \hyperlink{simple__prefix__impl_8h_a2803bf8d5b507d080053c5795f1f2e8e}{construct\_simple\_prefix\_tree}(root,
      input\_msgs,(\textcolor{keywordtype}{int})(strlen(input\_msgs)));
    output\_file = fopen(output\_file\_name,\textcolor{stringliteral}{"w"});
    \textcolor{keywordflow}{while}(fread(input\_string,\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char}),1000,input\_file) != 0) 
    \{
        output\_string = \hyperlink{simple__prefix__impl_8h_a01c7baaef3398c045f127558eeef0b14}{simple\_prefix\_decode}(input\_string,
      root,(\textcolor{keywordtype}{int})(strlen(input\_string)));
        fwrite(output\_string,\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char}),strlen(output\_string),output\_file);
    \}
    
    \textcolor{keywordflow}{return} output\_file;
\}
\end{DoxyCode}
\hypertarget{simple__prefix_8c_aa71732b02f99cbdbee35eb443ec58501}{\index{simple\-\_\-prefix.\-c@{simple\-\_\-prefix.\-c}!x\-\_\-encode\-\_\-file@{x\-\_\-encode\-\_\-file}}
\index{x\-\_\-encode\-\_\-file@{x\-\_\-encode\-\_\-file}!simple_prefix.c@{simple\-\_\-prefix.\-c}}
\subsubsection[{x\-\_\-encode\-\_\-file}]{\setlength{\rightskip}{0pt plus 5cm}F\-I\-L\-E $\ast$ x\-\_\-encode\-\_\-file (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{input\-\_\-file\-\_\-name, }
\item[{char $\ast$}]{output\-\_\-file\-\_\-name}
\end{DoxyParamCaption}
)}}\label{simple__prefix_8c_aa71732b02f99cbdbee35eb443ec58501}


take in a file for encoding, encode it and then return the file descriptor of the file containing the encoded data \par
 {\bfseries Precondition\-:} The input file should only have characters defined in the macro L\-O\-W\-E\-R\-\_\-\-C\-A\-S\-E\-\_\-\-A\-L\-P\-H\-A\-B\-E\-T\-S \par
 {\bfseries Postcondition\-:}The output file containing the binary data(each bit stored into one character -\/ just for now) representing the \hyperlink{structsimple__prefix}{simple\-\_\-prefix} encoded data will be returned to the calling environment \par
 


\begin{DoxyParams}{Parameters}
{\em input\-\_\-file\-\_\-name} & The relative path from the executable directory/the absolute path of the file to be encoded \\
\hline
{\em output\-\_\-file\-\_\-name} & The relative path from the executable directory/the absolute path of the file in which the encoded value will be persisted \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The file descriptor of the encoded file(output file) 
\end{DoxyReturn}


Definition at line 24 of file simple\-\_\-prefix.\-c.


\begin{DoxyCode}
\{
    FILE* input\_file;
    input\_file = fopen(input\_file\_name,\textcolor{stringliteral}{"r"});
    FILE *output\_file;
    \textcolor{keywordtype}{char} *input\_string = (\textcolor{keywordtype}{char} *)malloc(1000);
    \textcolor{keywordtype}{char} *output\_string;
    output\_file = fopen(output\_file\_name,\textcolor{stringliteral}{"w"});
    \textcolor{keywordflow}{while}(fread(input\_string,\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char}),1000,input\_file) != 0) 
    \{
        output\_string = \hyperlink{simple__prefix__impl_8h_a1d974ca63f3322d8a7d444c6ebbf6212}{simple\_prefix\_encode}(input\_string,
      strlen(input\_string));
        fwrite(output\_string,\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char}),strlen(output\_string),output\_file);
    \}
    \textcolor{keywordflow}{return} output\_file;
\}
\end{DoxyCode}
